import 'package:flutter/material.dart';
import 'package:gemselections/Pages/imageurl.dart';
import 'package:gemselections/Pages/mainscaffold.dart';
import 'package:gemselections/Pages/rudraksh/rudrakshscaffold.dart';

List<Bead> gemstones = [
  Bead(
    Title: "ONE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fone-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "TWO MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ftwo-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "THREE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fthree-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "FOUR MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ffour-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "FIVE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ffive-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "SIX MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fsix-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "SEVEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fseven-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
  Bead(
    Title: "EIGHT MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Feight-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "NINE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fnine-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "TEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ften-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "ELEVEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Feleven-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "TWELVE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ftwelve-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "THIRTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fthirteen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "FOURTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ffourteen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "FIFTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ffifteen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "SIXTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fsixteen-mukhi-rudraksha.gif?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "SEVENTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fseventeen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ), 
  Bead(
    Title: "EIGHTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Feighteen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "NINTEEN MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fnineteen-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "TWENTY MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ftwenty-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "TWENTY ONE MUKHI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ftwentyone-mukhi-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "TRIJUTI RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Ftrijuti-rudraksha.gif?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "GANESH RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fganesh-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
   Bead(
    Title: "GAURI SHANKAR RUDRAKSH",
    ImageUrl:
    "https://firebasestorage.googleapis.com/v0/b/gemselections-add52.appspot.com/o/AppData%2Fgauri-shanker-rudraksha.jpg?alt=media",
    DialogText: "Dialog Text 1",
  ),
];

class BeadPage extends StatefulWidget {
  @override
  _BeadPageState createState() =>
      _BeadPageState();
}

class _BeadPageState extends State<BeadPage> {
  
  @override
  Widget build(BuildContext context) {
    return RudrakshScaffold(
      body: ListView(
        children: <Widget>[
          Image.network(imgurl),
          Padding(
            padding: const EdgeInsets.all(8.0),
            child: Text(
              "We deal in following triangular gems:",
              style: TextStyle(fontSize: 18.0, fontWeight: FontWeight.bold),
              textAlign: TextAlign.center,
            ),
          ),
          Column(
            children: BeadToRows(gemstones, context),
          )
        ],
      ),
    );
  }
}

class Bead extends StatelessWidget {
  String Title, ImageUrl, DialogText;

  Bead({
    this.DialogText,
    this.Title,
    this.ImageUrl,
  });

  @override
  Widget build(BuildContext context) {
    return Card(
      elevation: 2.0,
      child: Container(
        width: 170.0,
        height: 200.0,
        child: Column(
          children: <Widget>[
            Padding(
              padding: const EdgeInsets.all(8.0),
              child: Text(
                Title,
                style: TextStyle(fontSize: 18.0),
              ),
            ),
            FlatButton(
              child: Image.network(
                ImageUrl,
                width: 165.0,
                fit: BoxFit.cover,
              ),
              onPressed: () {
                showDialog(
                    context: context,
                    builder: (context) {
                      return AlertDialog(
                        content: Text(DialogText),
                      );
                    });
              },
            ),
          ],
        ),
      ),
    );
  }
}

List<Widget> BeadToRows(
    List<Bead> gembuttons, BuildContext context) {
  double width = MediaQuery.of(context).size.width;
  int numPerRow = (width / 150.0).floor();
  int numTotal = gembuttons.length;
  print(width);
  print(numPerRow);
  print((numTotal / numPerRow).ceil());
  List<Widget> colList = [];
  List<Bead> curList = [];
  for (int i = 0; i < (numTotal / numPerRow).ceil(); i++) {
    curList = [];
    for (int j = 0; j < numPerRow; j++) {
      if (i * numPerRow + j < numTotal) {
        curList.add(gembuttons[i * numPerRow + j]);
      }
    }
    colList.add(
      Row(
        mainAxisAlignment: MainAxisAlignment.spaceEvenly,
        children: curList,
      ),
    );
  }
  return colList;
}
